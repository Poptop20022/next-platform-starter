# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend –Ω–∞ Railway - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–π –ë–î (Neon, Supabase –∏ —Ç.–¥.)

–ï—Å–ª–∏ —É –≤–∞—Å –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ **Neon**, **Supabase** –∏–ª–∏ –¥—Ä—É–≥–æ–º –≤–Ω–µ—à–Ω–µ–º —Å–µ—Ä–≤–∏—Å–µ:

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à **backend —Å–µ—Ä–≤–∏—Å**

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** (–≤–∫–ª–∞–¥–∫–∞ —Å–ª–µ–≤–∞)

3. –ù–∞–∂–º–∏—Ç–µ **+ New Variable**

4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key:** `DATABASE_URL`
   - **Value:** –≤–∞—à connection string (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç Neon)
   
   –ü—Ä–∏–º–µ—Ä –¥–ª—è Neon:
   ```
   postgresql://user:password@host/database?sslmode=require
   ```

5. –¢–∞–∫–∂–µ –¥–æ–±–∞–≤—å—Ç–µ:
   - **PORT** = `3001`
   - **JWT_SECRET** = `–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞`
   - **NODE_ENV** = `production`

6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

7. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç —Å–µ—Ä–≤–∏—Å

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Neon:** [NEON_SETUP.md](./NEON_SETUP.md)

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Railway PostgreSQL

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å –Ω–∞ Railway:

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à **backend —Å–µ—Ä–≤–∏—Å** (–Ω–µ PostgreSQL, –∞ –∏–º–µ–Ω–Ω–æ Node.js —Å–µ—Ä–≤–∏—Å)

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** (–≤–∫–ª–∞–¥–∫–∞ —Å–ª–µ–≤–∞)

3. –ù–∞–∂–º–∏—Ç–µ **+ New Variable**

4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key:** `DATABASE_URL`
   - **Value:** `${{Postgres.DATABASE_URL}}`
   
   ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ—á–Ω–æ —Ç–∞–∫, –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ: `${{Postgres.DATABASE_URL}}`
   - –ì–¥–µ `Postgres` - —ç—Ç–æ –∏–º—è –≤–∞—à–µ–≥–æ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å `Postgres`, `postgres`, `PostgreSQL` –∏ —Ç.–¥.)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω–æ–µ –∏–º—è –≤–∞—à–µ–≥–æ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞ –≤ Railway Dashboard

5. –¢–∞–∫–∂–µ –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - **PORT** = `3001`
   - **JWT_SECRET** = `–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞`
   - **NODE_ENV** = `production`

6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

7. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞

–ï—Å–ª–∏ `${{Postgres.DATABASE_URL}}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞ –≤ Railway Dashboard
2. –û–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å: `Postgres`, `postgres`, `PostgreSQL`, `database` –∏ —Ç.–¥.
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–Ω–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   - –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `postgres` ‚Üí `${{postgres.DATABASE_URL}}`
   - –ï—Å–ª–∏ `database` ‚Üí `${{database.DATABASE_URL}}`

## –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ backend –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç—Å—è:

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à backend —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
4. –ù–∞–∂–º–∏—Ç–µ **View Logs** –∏–ª–∏ **Shell**
5. –í Shell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   npm run migrate
   ```
6. –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω—ã, —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ```bash
   npm run create-admin admin@example.com admin123 "Admin User"
   ```

## –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ URL Backend

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à backend —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Networking**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Public Domain** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `tenderhub-production.up.railway.app`)
4. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Backend

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://your-backend-url.railway.app/api/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"status":"ok","timestamp":"2024-..."}
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ **backend —Å–µ—Ä–≤–∏—Å**, –∞ –Ω–µ –≤ PostgreSQL
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω–æ–µ –∏–º—è PostgreSQL —Å–µ—Ä–≤–∏—Å–∞
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: Deployments ‚Üí Redeploy

### –ü—Ä–æ–±–ª–µ–º–∞: DATABASE_URL –ø—É—Å—Ç–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `${{–ò–º—è–°–µ—Ä–≤–∏—Å–∞.DATABASE_URL}}`)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `DB_HOST=${{Postgres.PGHOST}}`
   - `DB_PORT=${{Postgres.PGPORT}}`
   - –∏ —Ç.–¥.

### –ü—Ä–æ–±–ª–µ–º–∞: Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

